---

- name: Install Ansible on Control node
  yum: name=ansible state=latest
  
- name: Install bzip2 on Control node
  yum: name=bzip2 state=latest  

- name: Install Git on Control node
  yum: name=git state=latest 

- name: Install PIP on Control node
  yum: name=python-pip state=latest

- name: Copy hosts template to Control node
  template: src=roles/control_node/templates/hosts dest=/etc/hosts

- name: Grab official Contiv repo
  git:
    repo: https://github.com/contiv/demo.git
    dest: /home/{{user_account}}/contiv
    force: yes


- name: Create cluster_defs.json
  template: src=roles/control_node/templates/cluster_template.j2 dest=/home/{{user_account}}/contiv/cluster_defs.json